define(["levelsData","Scene","Action","Level","Dialog","InteractiveObject","Flag","CuidandoBem","Commons"],function(e,t,n,r,i,s,o,u,a){function g(e){u.setActionVisible("btn-ir_corredor",e),u.setActionVisible("btn-ir_leito",e),u.setActionVisible("btn-lavar_maos",e)}function T(e){e==1&&(u.setActionVisible("btn-fechar_gaveta",e),c.getFlag("pegou_coxim").getValue()==0?(u.setActionVisible("btn-coxim",e),u.setInteractiveObjectVisible("io-coxim",e)):(u.setActionVisible("btn-coxim",!e),u.setInteractiveObjectVisible("io-coxim",!e)))}var f=require("Dialogs").fase1,l=require("Dialogs").alertas,c=new r("Level 1"),h=!0,p=!1,d=(new t("scene-recepcao","Recepcao")).setCssClass("scene-recepcao").onLoad(function(){h?u.openDialog(0):(u.setActionVisible("btn-ir_corredor",!0),u.setActionVisible("btn-conversar_recepcionista",!0))}).onUnload(function(){u.closeDialog()});d.registerDialogs([(new i("recepcionista","char-recepcionista")).setText(f.recepcionista[0]).registerOption(f.recepcionista[1],function(){u.closeDialog(0),u.setActionVisible("btn-ir_corredor",!0),u.setActionVisible("btn-conversar_recepcionista",!0)})]),d.registerActions([(new n("btn-ir_corredor","Ir ao corredor")).setCssClass("action-ir_corredor").onClick(function(){u.changeScene(1)}).setVisibility(p),(new n("btn-conversar_recepcionista","Conversar com a recepcionista")).setCssClass("action-abrir_dialogo").onClick(function(){u.openDialog(0)}).setVisibility(p)]);var v=(new t("corredor")).setCssClass("scene-corredor").onLoad(function(){h==1?c.getFlag("examinou_paciente").getValue()==0&&c.getFlag("mentor_dialogo").getValue()==1?(c.getFlag("mentor_dialogo").setValue(!1),u.openDialog(0)):c.getFlag("mentor_dialogo").getValue()==1&&c.getFlag("examinou_paciente").getValue()==1?(c.getFlag("mentor_dialogo").setValue(!1),u.setActionVisible("btn-ir_ala_masculina",!1),u.setActionVisible("btn-ir_posto_enfermagem",!1),u.setActionVisible("btn-falar_mentor_01",!1),u.setActionVisible("btn-falar_mentor_02",!1),u.openDialog(1)):c.getFlag("buscar_coxim").getValue()==1?u.openDialog(5):c.getFlag("pegou_coxim").getValue()==1&&(u.setActionVisible("btn-falar_mentor_01",!1),u.setActionVisible("btn-falar_mentor_02",!1)):(u.setActionVisible("btn-falar_mentor_01",!0),u.setActionVisible("btn-falar_mentor_02",!0),u.setActionVisible("btn-ir_ala_masculina",!0),u.setActionVisible("btn-ir_posto_enfermagem",!0))}).onUnload(function(){u.closeDialog()});v.registerDialogs([(new i("mentor","char-mentor")).setText(f.corredor.fala1[0]).registerOption(f.corredor.fala1[1],function(){u.closeDialog(0),u.setActionVisible("btn-ir_ala_masculina",!0),u.setActionVisible("btn-ir_posto_enfermagem",!0),u.setActionVisible("btn-falar_mentor_01",!0)}),(new i("mentor","char-mentor")).setText(f.corredor.fala1[0]).registerOption(f.corredor.fala1[0],function(){u.closeDialog(1),u.openDialog(2)}),(new i("mentor","char-mentor")).setText(f.corredor.fala1[0]).registerOption(f.corredor.fala1[0],function(){u.closeDialog(2),u.setActionVisible("btn-falar_mentor_02",!0),c.getFlag("buscar_coxim").setValue(!0),u.setActionVisible("btn-ir_ala_masculina",!0),u.setActionVisible("btn-ir_posto_enfermagem",!0)}),(new i("mentor","char-mentor")).setText(l.enfermaria_masculina[0]).registerOption(l.enfermaria_masculina[1],function(){u.closeDialog(3)}),(new i("mentor","char-mentor")).setText(l.perdido.enfermagem[0]).registerOption(l.perdido.enfermagem[1],function(){u.closeDialog(4)}),(new i("mentor","char-mentor")).setText(l.esqueceu[0]).registerOption(l.esqueceu[1],function(){u.closeDialog(5)})]),v.registerActions([(new n("btn-falar_mentor_01","Falar com mentor")).setCssClass("action-abrir_dialogo").onClick(function(){u.openDialog(0)}).setVisibility(p),(new n("btn-falar_mentor_02","Falar com mentor")).setCssClass("action-abrir_dialogo").onClick(function(){u.openDialog(1)}).setVisibility(p),(new n("btn-ir_ala_masculina","Ir para a ala masculina")).setCssClass("action-ir_sala_de_leitos").onClick(function(){h==1?c.getFlag("buscar_coxim").getValue()==0?u.changeScene(2):u.openDialog(4):u.changeScene(2)}).setVisibility(p),(new n("btn-ir_posto_enfermagem","Ir para o posto de enfermagem")).setCssClass("action-ir_posto_de_enfermagem").onClick(function(){h==1?c.getFlag("examinou_paciente").getValue()==0?u.openDialog(3):u.changeScene(4):u.changeScene(4)}).setVisibility(p)]);var m=(new t("ala_masculina")).setCssClass("scene-ala_masculina").onLoad(function(){h==1?c.getFlag("posicionou_coxim").getValue()==0?g(!0):(g(!1),c.getFlag("lavar_maos").setValue(!1),u.changeSceneCssClassTo("scene-ala_masculina-coxim"),u.setActionVisible("btn-lavar_maos",!0),u.setActionVisible("btn-ler_prontuario",!0)):(u.setActionVisible("btn-ir_corredor",!0),u.setActionVisible("btn-ir_leito",!0),u.setActionVisible("btn-lavar_maos",!0))});m.registerDialogs([(new i("mentor","char-mentor")).setText(l.generico).registerOption("resposta",function(){u.closeDialog(0)}),(new i("mentor","char-mentor")).setText(l.generico).registerOption("resposta",function(){u.closeDialog(1)}),(new i("mentor","char-mentor")).setText(l.generico).registerOption("resposta",function(){u.closeDialog(2)})]),m.registerActions([(new n("btn-ir_corredor","Ir ao corredor")).setCssClass("action-ir_corredor").onClick(function(){h==1?u.getFlag("examinou_paciente").getValue()==1?u.getFlag("lavar_maos").getValue()==1?u.changeScene(1):u.openDialog(1):u.changeScene(1):u.changeScene(1)}).setVisibility(p),(new n("btn-ir_leito","Ir ao leito")).setCssClass("action-leito-char-02").onClick(function(){h==1?c.getFlag("lavar_maos").getValue()==1?u.changeScene(3):u.openDialog(0):u.changeScene(3)}).setVisibility(p),(new n("btn-lavar_maos","Lavar as mãos")).setCssClass("action-lavar_maos").onClick(function(){u.getFlag("lavar_maos").setValue(!0)}).setVisibility(p),(new n("btn-ler_prontuario","Ler prontuario")).setCssClass("action-ler_prontuario").onClick(function(){h&&(c.getFlag("lavar_maos").getValue()==1?u.openModalScene("Prontuario"):u.openDialog(2))}).setVisibility(p)]);var y=(new t("leito")).setCssClass("scene-leito-char-02").onLoad(function(){h==1?c.getFlag("conversar_paciente").getValue()==1?(c.getFlag("conversar_paciente").setValue(!1),u.openDialog(0)):c.getFlag("pegou_coxim").getValue()==1?(u.setActionVisible("btn-ir_ala_masculina",!1),u.setActionVisible("btn-ver_pulseira",!1),u.setActionVisible("btn-conversar_paciente",!1),u.setActionVisible("btn-examinar_paciente",!1),u.setActionVisible("btn-mudar_posicao_paciente",!0)):u.setActionVisible("btn-conversar_paciente",!0):(u.setActionVisible("btn-ir_ala_masculina",!0),u.setActionVisible("btn-ver_pulseira",!0),u.setActionVisible("btn-conversar_paciente",!0))});y.registerDialogs([(new i("Jogador","char-jogador")).setText("").registerOption(f.enfermaria[0],function(){u.closeDialog(0),u.openDialog(1)}),(new i("Paciente Carlos","char-paciente-02")).setText(f.enfermaria[1]).registerOption(f.enfermaria[2],function(){u.closeDialog(1),u.openDialog(2)}),(new i("Paciente Carlos","char-paciente-02")).setText(f.enfermaria[3]).registerOption(f.enfermaria[4],function(){u.closeDialog(2),u.setActionVisible("btn-ir_ala_masculina",!0),u.setActionVisible("btn-ver_pulseira",!0),u.setActionVisible("btn-conversar_paciente",!0)})]),y.registerActions([(new n("btn-ir_ala_masculina","Ir para ala masculina")).setCssClass("action-ir_sala_de_leitos").onClick(function(){u.changeScene(2)}).setVisibility(p),(new n("btn-ver_pulseira","Ver pulseira")).setCssClass("action-pulseira_paciente").onClick(function(){u.openModalScene("Pulseira"),u.setActionVisible("btn-largar_pulseira",!0),u.setActionVisible("btn-confirmar_pulseira",!0)}).setVisibility(p),(new n("btn-conversar_paciente","Conversar paciente")).setCssClass("action-abrir_dialogo").onClick(function(){u.openDialog(0)}).setVisibility(p),(new n("btn-examinar_paciente","Examinar paciente")).setCssClass("action-examinar_paciente").onClick(function(){u.getFlag("examinou_paciente").setValue(!0),u.getFlag("lavar_maos").setValue(!1),u.getFlag("mentor_dialogo").setValue(!0),u.getFlag("paciente_carlos").getValue()>=20&&(u.openModalScene("Carlos Esme Gouvea"),u.getFlag("paciente_carlos").setValue(0)),u.getFlag("paciente_carlos").setValue(u.getFlag("paciente_carlos").getValue()+1)}).setVisibility(p),(new n("btn-mudar_posicao_paciente","Mudar posição do paciente")).setCssClass("action-mudar_posicao_paciente").onClick(function(){u.setActionVisible("btn-mudar_posicao_paciente",!1),u.changeSceneCssClassTo("scene-leito-char-02-virado"),u.setActionVisible("btn-posicionar_coxim",!0)}).setVisibility(p),(new n("btn-posicionar_coxim","Posicionar coxim e o travesseiro")).setCssClass("action-posicionar_coxim").onClick(function(){c.getFlag("posicionou_coxim").setValue(!0),u.changeSceneCssClassTo("scene-leito-char-02-coxim"),u.setActionVisible("btn-posicionar_coxim",!1),u.setActionVisible("btn-ir_ala_masculina",!0)}).setVisibility(p)]);var b=(new t("posto_de_enfermagem")).setCssClass("scene-posto_de_enfermagem").onLoad(function(){u.setActionVisible("btn-abrir_gaveta",!0),u.setActionVisible("btn-ir_corredor",!0)});b.registerActions([(new n("btn-ir_corredor","Ir ao corredor")).setCssClass("action-ir_corredor").onClick(function(){u.changeScene(1)}).setVisibility(p),(new n("btn-abrir_gaveta","Abrir gaveta")).setCssClass("action-abrir_gaveta").onClick(function(){u.openModalScene("Gaveta"),T(!0)}).setVisibility(p)]);var w=(new t("Fim da fase")).setCssClass("scene-fim-alfa").onLoad(function(){u.setActionVisible("btn-voltar_menu",!0)});w.registerActions([(new n("btn-voltar_menu","Voltar ao Menu Principal")).setCssClass("action-voltar_menu").onClick(function(){u.goBackToMenu()}).setVisibility(p)]);var E=(new t("Prontuario")).setCssClass("modalScene-prontuario_carlos");E.registerActions([(new n("btn-anotar_prontuario","Anotar prontuário")).setCssClass("action-anotar_prontuario").onClick(function(){u.closeModalScene("Prontuario"),u.changeScene(5)}).setVisibility(!0)]);var S=(new t("Carlos Esme Gouvea")).setCssClass("modalScene-carlos_esme_gouvea");S.registerActions([(new n("btn-fechar_carlos","Fechar Carlos")).setCssClass("action-fechar_modal").onClick(function(){u.closeModalScene("Carlos Esme Gouvea")}).setVisibility(!0)]);var x=(new t("Pulseira")).setCssClass("modalScene-pulseira");x.registerActions([(new n("btn-largar_pulseira","Largar pulseira")).setCssClass("action-pulseira_paciente").onClick(function(){u.closeModalScene("Pulseira"),c.getFlag("confirmar_pulseira").getValue()==1&&u.setActionVisible("btn-examinar_paciente",!0)}).setVisibility(p),(new n("btn-confirmar_pulseira","Confirmar pulseira")).setCssClass("action-confirmar_pulseira").onClick(function(){c.getFlag("confirmar_pulseira").setValue(!0)}).setVisibility(p)]);var N=(new t("Gaveta")).setCssClass("modalScene-gaveta");N.registerActions([(new n("btn-fechar_gaveta","Fechar gaveta")).setCssClass("action-fechar_gaveta").onClick(function(){u.closeModalScene("Gaveta"),T(!1)}).setVisibility(p),(new n("btn-coxim","Pegar coxim")).setCssClass("action-pegar_coxim").onClick(function(){c.getFlag("buscar_coxim").setValue(!1),c.getFlag("pegou_coxim").setValue(!0),u.setActionVisible("btn-coxim",!1),u.setInteractiveObjectVisible("io-coxim",!1)}).setVisibility(p),(new s("io-coxim","Coxim")).setCssClass("intObj-coxim").onClick(function(){c.getFlag("buscar_coxim").setValue(!1),c.getFlag("pegou_coxim").setValue(!0),u.setActionVisible("btn-coxim",!1),u.setInteractiveObjectVisible("io-coxim",!1)})]),c.registerScene(d),c.registerScene(v),c.registerScene(m),c.registerScene(y),c.registerScene(b),c.registerScene(w),c.registerModalScene(E),c.registerModalScene(N),c.registerModalScene(S),c.registerModalScene(x),c.registerFlag(new o("lavar_maos",!1)),c.registerFlag(new o("examinou_paciente",!1)),c.registerFlag(new o("conversar_paciente",!0)),c.registerFlag(new o("confirmar_pulseira",!1)),c.registerFlag(new o("paciente_carlos",0)),c.registerFlag(new o("posicionou_coxim",!1)),c.registerFlag(new o("pegou_coxim",!1)),c.registerFlag(new o("mentor_dialogo",!0)),c.registerFlag(new o("buscar_coxim",!1)),c.setInitialScene(0),e.registerLevel(c,1)});