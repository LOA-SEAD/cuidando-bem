/*
This file is part of Cuidando Bem.

    Cuidando Bem is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Cuidando Bem is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Cuidando Bem.  If not, see <http://www.gnu.org/licenses/>.
*/

define(["levelsData","Scene","Action","Level","Dialog","InteractiveObject","Flag","CuidandoBem","Commons","Pulseira","Prontuario","FreqRespiratoria","ScoresData"],function(e,t,n,r,i,s,o,u,a,f,l,c,h){function y(){m.getFlag("conversar_recepcionista").getValue()==1&&(u.closeDialog(),u.changeScene(1))}function b(){u.openDialog(0)}function w(){u.changeScene(4)}function E(){m.getFlag("ir_postoEnfermagem_horaErrada").getValue()==0?(u.registerScoreItem(h.irPostoEnfermagemHoraErrada),m.getFlag("ir_postoEnfermagem_horaErrada").setValue(!0),u.changeScene(5)):u.changeScene(5)}function S(){u.changeScene(2)}function x(){m.getFlag("ir_centroCirurgico_horaErrada").getValue()==0?(u.registerScoreItem(h.irCentroCirurgicoHoraErrada),m.getFlag("ir_centroCirurgico_horaErrada").setValue(!0),u.changeScene(7)):u.changeScene(7)}function T(){m.getFlag("ir_AlaMasculina_horaErrada").getValue()==0?(u.registerScoreItem(h.irAlaMasculinaHoraErrada),m.getFlag("ir_AlaMasculina_horaErrada").setValue(!0),u.changeScene(6)):u.changeScene(6)}function C(){m.getFlag("pegar_medicamento").getValue()==0?u.openDialog(8):m.getFlag("conferir_medicamento_correto").getValue()==0?u.openDialog(7):m.getFlag("conferir_medicamento_errado").getValue()==0?u.openDialog(10):u.changeScene(1)}function _(){u.changeScene(1)}var p=require("DialogsData").fase7,d=require("DialogsData").alertas,h=require("ScoresData").level7,v=require("Player"),m=new r("Level 7"),g=a.scenes.recepcao.getClone().onLoad(function(){m.getFlag("conversar_recepcionista").setValue(!0),u.openDialog(0)});g.registerDialogs([(new i(a.characters.jogador)).setText(p.recepcao[0]).registerOption("",function(){u.openDialog(1)}),(new i(a.characters.recepcionista)).setText(p.recepcao[1]).registerOption("",function(){u.closeDialog()})]),g.registerInteractiveObjects([(new s("intObj-conversar_recepcionista","Conversar com a Recepcionista")).setCssClass("intObj-talkToReceptionist").setVisibility(!0).onClick(b),(new s("io-ir_corredor_esquerda","Ir ao corredor")).setCssClass("intObj-lobbyToHallway-left no-glow").onClick(y).setVisibility(!0),(new s("io-ir_corredor_direita","Ir ao corredor")).setCssClass("intObj-lobbyToHallway-right no-glow").onClick(y).setVisibility(!0)]),corredor=a.scenes.corredor.getClone().onLoad(function(){}).onUnload(function(){}),corredor.registerInteractiveObjects([(new s("io-ir_centro_cirurgico","Ir para o Centro Cirurgico")).setCssClass("intObj-goToCentroCirurgico").onClick(x).setVisibility(!0),(new s("io-ir_farmacia","Ir para a Farmacia")).setCssClass("intObj-goToFarmacia").onClick(w).setVisibility(!0),(new s("io-ir_posto_enfermagem","Ir para o Posto de Enfermagem")).setCssClass("intObj-goToPostoEnfermagem").onClick(E).setVisibility(!0),(new s("io-ir_ala_feminina","Ir para a Ala Feminina")).setCssClass("intObj-goToAlaFeminina").onClick(S).setVisibility(!0),(new s("io-ir_alaMasculina","Ir para a Ala Masculina")).setCssClass("intObj-goToAlaMasculina").onClick(T).setVisibility(!0)]);var N=(new t("alaMasculina","Ala Masculina")).setCssClass("scene-bedroom-level7").onLoad(function(){m.getFlag("ir_ala_feminina_primeira_vez").setValue(!0)});N.registerDialogs([(new i(a.characters.jogador)).setText("").registerOption(p.enfermariaFeminina[0],function(){u.openDialog(1)}).registerOption(p.enfermariaFeminina[1],function(){u.openDialog(5)}).setRandomize(!0),(new i(a.characters.pacientes.ana)).setText(p.enfermariaFeminina[2]).registerOption("",function(){u.openDialog(2)}),(new i(a.characters.jogador)).setText(p.enfermariaFeminina[3]).registerOption("",function(){u.openDialog(3)}),(new i(a.characters.pacientes.ana)).setText(p.enfermariaFeminina[4]).registerOption("",function(){u.openDialog(4)}),(new i(a.characters.jogador)).setText(p.enfermariaFeminina[5]).registerOption("",function(){u.closeDialog()}),(new i(a.characters.mentor)).setText(p.enfermariaFeminina[6]).registerOption("",function(){u.openDialog(0)}),(new i(a.characters.mentor)).setText(d.esqueceu.conversarPaciente).registerOption("",function(){u.closeDialog()}),(new i(a.characters.mentor)).setText(d.lavarMaos.tipo3).registerOption("",function(){u.closeDialog()}),(new i(a.characters.mentor)).setText(d.esqueceu.pegarMedicamento).registerOption("",function(){u.closeDialog()})]),N.registerActions([(new n("btn-ler_prontuario","Ler prontuario")).setCssClass("action-ler_prontuario").onClick(function(){m.getFlag("conversarPaciente").getValue()!=0&&(m.getFlag("ler_prontuario").getValue()==0?(m.getFlag("ler_prontuario").setValue(!0),l.open(),u.openModalScene("Prontuario"),u.registerScoreItem(h.verProntuario)):(l.open(),u.openModalScene("Prontuario")))}).setVisibility(!0),(new n("btn-lavarMaos","Lavar as mãos")).setCssClass("action-lavarMaos").onClick(function(){v.play(v.audios.sfx.lavarMaos),m.getFlag("lavarMaos").getValue()==0&&(m.getFlag("lavarMaos").setValue(!0),u.registerScoreItem(h.lavarMaos))}).setVisibility(!0)]),N.registerInteractiveObjects([(new s("io-ir_corredor","Ir ao corredor")).setCssClass("intObj-irAlaFeminina_corredor").onClick(function(){m.getFlag("conversarPaciente").getValue()==0?u.openDialog(6):u.changeScene(1)}),(new s("io-conversar_paciente2","Ir ao leito")).setCssClass("intObj-irLeitoEsquerda").onClick(function(){m.getFlag("lavarMaos").getValue()==0?u.openDialog(7):m.getFlag("conversarPaciente").getValue()==0?(m.getFlag("conversarPaciente").setValue(!0),u.registerScoreItem(h.falarComPaciente),u.openDialog(0)):m.getFlag("pegar_medicamento").getValue()==0?u.openDialog(8):u.changeScene(3)}).setVisibility(!0)]);var k=a.scenes.farmacia.getClone().onLoad(function(){m.getFlag("ir_ala_feminina_primeira_vez").getValue()==1?u.openDialog(0):(m.getFlag("ir_farmacia_horaErrada").getValue()==0&&u.registerScoreItem(h.irFarmaciaHoraErrada),m.getFlag("ir_farmacia_horaErrada").setValue(!0),u.openDialog(9),u.changeScene(1))});k.registerInteractiveObjects([(new s("io-ir_corredor_esquerda","Ir ao corredor")).setCssClass("intObj-lobbyToHallway-left").onClick(C).setVisibility(!0),(new s("io-ir_corredor_direita","Ir ao corredor")).setCssClass("intObj-lobbyToHallway-right").onClick(C).setVisibility(!0),(new s("io-clorpromazina_medicamento","Pegar Medicamento")).setCssClass("intObj-clorpromazina_medicamento").onClick(function(){v.play(v.audios.sfx.pegarObjeto),m.getFlag("pegar_medicamento").setValue(!0),u.setActionVisible("btn-clorpromazinaMedicamento",!0),u.registerScoreItem(h.pegarMedicamento),u.setInteractiveObjectVisible("io-clorpromazina_medicamento",!1)}).setVisibility(!1),(new s("io-clorpropamida_medicamento","Pegar Medicamento")).setCssClass("intObj-clorpropamida_medicamento").onClick(function(){v.play(v.audios.sfx.pegarObjeto),m.getFlag("pegar_medicamento_correto").setValue(!0),u.setActionVisible("btn-clorpropamidaMedicamento",!0),u.registerScoreItem(h.trocarMedicamento),u.setInteractiveObjectVisible("io-clorpropamida_medicamento",!1)}).setVisibility(!1)]),k.registerDialogs([(new i(a.characters.jogador)).setText(p.farmacia[0]).registerOption("",function(){u.openDialog(1)}),(new i(a.characters.paulo)).setText(p.farmacia[1]).registerOption("",function(){u.setInteractiveObjectVisible("io-clorpromazina_medicamento",!0),u.closeDialog()}),(new i(a.characters.jogador)).setText("").registerOption(p.farmacia[2],function(){u.openDialog(3)}).registerOption(p.farmacia[3],function(){u.openDialog(5)}).setRandomize(!0),(new i(a.characters.paulo)).setText(p.farmacia[4]).registerOption("",function(){u.openDialog(4)}),(new i(a.characters.jogador)).setText("").registerOption(p.farmacia[5],function(){u.openDialog(6)}).registerOption(p.farmacia[6],function(){u.setInteractiveObjectVisible("io-clorpropamida_medicamento",!0),u.closeDialog()}).setRandomize(!0),(new i(a.characters.mentor)).setText(p.farmacia[7]).registerOption("",function(){u.openDialog(2)}),(new i(a.characters.mentor)).setText(p.farmacia[8]).registerOption("",function(){u.openDialog(4)}),(new i(a.characters.mentor)).setText(d.esqueceu.verificarMedicamento).registerOption("",function(){u.closeDialog()}),(new i(a.characters.mentor)).setText(d.esqueceu.pegarMedicamento).registerOption("",function(){u.closeDialog()}),(new i(a.characters.mentor)).setText(d.perdido.farmacia).registerOption("",function(){u.closeDialog()}),(new i(a.characters.mentor)).setText(d.esqueceu.pegarMedicamento2).registerOption("",function(){u.closeDialog()})]),k.registerActions([(new n("btn-clorpromazinaMedicamento","Conferir Medicamento")).setCssClass("action-clorpromazina_medicamento").onClick(function(){m.getFlag("conferir_medicamento_errado").getValue()==0&&(m.getFlag("conferir_medicamento_errado").setValue(!0),u.registerScoreItem(h.conferirMedicamentoErrado),u.setActionVisible("btn-clorpromazinaMedicamento",!1),u.openDialog(2))}).setVisibility(!1),(new n("btn-clorpropamidaMedicamento","Conferir Medicamento")).setCssClass("action-clorpropamida_medicamento").onClick(function(){m.getFlag("conferir_medicamento_correto").getValue()==0&&(m.getFlag("conferir_medicamento_correto").setValue(!0),u.registerScoreItem(h.conferirMedicamentoCorreto))}).setVisibility(!1)]);var L=a.scenes.leitos.ana.getClone().onLoad(function(){u.openDialog(0)});L.registerDialogs([(new i(a.characters.pacientes.ana)).setText(p.leitoPaciente[0]).registerOption("",function(){u.openDialog(1)}),(new i(a.characters.jogador)).setText(p.leitoPaciente[1]).registerOption("",function(){u.openDialog(2)}),(new i(a.characters.pacientes.ana)).setText(p.leitoPaciente[2]).registerOption("",function(){u.openDialog(3)}),(new i(a.characters.jogador)).setText("").registerOption(p.leitoPaciente[3],function(){u.openDialog(4)}).registerOption(p.leitoPaciente[4],function(){u.openDialog(7)}).setRandomize(!0),(new i(a.characters.pacientes.ana)).setText(p.leitoPaciente[5]).registerOption("",function(){u.openDialog(5)}),(new i(a.characters.jogador)).setText(p.leitoPaciente[6]).registerOption("",function(){u.openDialog(6)}),(new i(a.characters.pacientes.ana)).setText(p.leitoPaciente[7]).registerOption("",function(){u.closeDialog()}),(new i(a.characters.mentor)).setText(p.leitoPaciente[8]).registerOption("",function(){u.openDialog(3)})]),L.registerInteractiveObjects([(new s("io-pulseira_paciente","Checar pulseira do paciente")).setCssClass("intObj-paciente_08-checar_pulseira").onClick(function(){u.openModalScene("pulseira"),f.open(),u.openCommandBar()}).setVisibility(!0)]);var A=a.scenes.postoDeEnfermagem.getClone().onLoad(function(){m.getFlag("ir_ala_feminina_primeira_vez").getValue()!=1&&(m.getFlag("ir_postoEnfermagem_horaErrada").getValue()==0&&u.registerScoreItem(h.irFarmaciaHoraErrada),m.getFlag("ir_postoEnfermagem_horaErrada").setValue(!0),u.openDialog(2),u.changeScene(1))});A.registerDialogs([(new i(a.characters.mentor)).setText(d.esqueceu.pegarObjetosGaveta).registerOption("",function(){u.closeDialog()}),(new i(a.characters.mentor)).setText(d.esqueceu.pegarBandeja).registerOption("",function(){u.closeDialog()}),(new i(a.characters.mentor)).setText(d.perdido.farmacia).registerOption("",function(){u.closeDialog()})]),A.registerInteractiveObjects([(new s("io-abrirGaveta","Abrir gaveta")).setCssClass("intObj-openDrawer").onClick(function(){m.getFlag("pegou_bandeja").getValue()!=1?u.openDialog(1):(v.play(v.audios.sfx.abrirGaveta),u.openModalScene("gaveta"),u.openCommandBar())}).setVisibility(!0),(new s("io-pegar_bandeja","Pegar bandeja")).setCssClass("intObj-bandeja").onClick(function(){v.play(v.audios.sfx.pegarObjeto),m.getFlag("pegou_bandeja").setValue(!0),u.setInteractiveObjectVisible("io-pegar_bandeja",!1)}).setVisibility(!0)]),A.registerActions([(new n("btn-ir_corredor","Ir ao corredor")).setCssClass("action-ir_corredor").onClick(function(){m.getFlag("pegar_copo_descartavel").getValue()==0||m.getFlag("pegar_agua_potavel").getValue()==0?u.openDialog(0):u.changeScene(1)})]);var O=a.scenes.alaMasculina.getClone().onLoad(function(){});O.registerInteractiveObjects([(new s("io-ir_corredor","Ir ao corredor")).setCssClass("intObj-irAlaMasculina_corredor").onClick(function(){u.changeScene(1)})]);var M=a.scenes.centroCirurgico.getClone().onLoad(function(){});M.registerActions([(new n("btn-ir_corredor","Ir ao corredor")).setCssClass("action-ir_corredor").onClick(function(){_()})]),prontuario=new t("Prontuario","Prontuario"),prontuario.registerActions([(new n("btn-fechar_prontuario","Fechar prontuário")).setCssClass("action-ler_prontuario").onClick(function(){l.close(),u.closeModalScene("Prontuario")}).setVisibility(!0)]),gaveta=(new t("gaveta","Gaveta")).setCssClass("modalScene-drawer"),gaveta.registerActions([(new n("btn-fecharGaveta","Fechar gaveta")).setCssClass("action-fecharGaveta").onClick(function(){v.play(v.audios.sfx.fecharGaveta),u.closeModalScene("Gaveta")}).setVisibility(!0)]),gaveta.registerInteractiveObjects([(new s("io-copo_descartavel","Copo Descartável")).setCssClass("intObj-copoDescartavel").onClick(function(){v.play(v.audios.sfx.pegarObjeto),m.getFlag("pegar_copo_descartavel").setValue(!0),u.setInteractiveObjectVisible("io-copo_descartavel",!1),m.getFlag("score_pegar_copo_descartavel").getValue()==0&&(u.registerScoreItem(h.pegarCopoDescartavel),m.getFlag("score_pegar_copo_descartavel").setValue(!0))}).setVisibility(!0),(new s("io-agua_potavel","Água Potável")).setCssClass("intObj-aguaPotavel").onClick(function(){v.play(v.audios.sfx.pegarObjeto),m.getFlag("pegar_agua_potavel").setValue(!0),u.setInteractiveObjectVisible("io-agua_potavel",!1),m.getFlag("score_pegar_agua_potavel").getValue()==0&&(u.registerScoreItem(h.pegarAguaPotavel),m.getFlag("score_pegar_agua_potavel").setValue(!0))}).setVisibility(!0)]),pulseira=new t("pulseira","pulseira"),pulseira.registerInteractiveObjects([]),pulseira.registerActions([(new n("btn-largar_pulseira","Fechar pulseira")).setCssClass("action-pulseira_paciente").onClick(function(){u.closeModalScene("Pulseira"),f.close()}).setVisibility(!0)]),m.registerModalScene(prontuario),m.registerModalScene(gaveta),m.registerModalScene(pulseira),m.registerScene(g),m.registerScene(corredor),m.registerScene(N),m.registerScene(L),m.registerScene(k),m.registerScene(A),m.registerScene(O),m.registerScene(M),m.registerScene(prontuario),m.registerScene(gaveta),m.setSetupScript(function(){m.getFlag("conversar_recepcionista").setValue(!1),m.getFlag("conversar_mentor").setValue(!1),m.getFlag("ir_farmacia_horaErrada").setValue(!1),m.getFlag("ir_postoEnfermagem_horaErrada").setValue(!1),m.getFlag("ir_centroCirurgico_horaErrada").setValue(!1),m.getFlag("ir_AlaMasculina_horaErrada").setValue(!1),m.getFlag("ir_AlaFeminina_horaErrada").setValue(!1),m.getFlag("ir_postoEnfermagem_horaErrada").setValue(!1),m.getFlag("conversarPaciente").setValue(!1),m.getFlag("ler_prontuario").setValue(!1),m.getFlag("conferir_medicamento_errado").setValue(!1),m.getFlag("pegar_medicamento").setValue(!1),m.getFlag("pegar_medicamento_correto").setValue(!1),m.getFlag("conferir_medicamento_correto").setValue(!1),m.getFlag("pegar_copo_descartavel").setValue(!1),m.getFlag("pegar_agua_potavel").setValue(!1),m.getFlag("pegou_bandeja").setValue(!1),m.getFlag("score_pegar_agua_potavel").setValue(!1),m.getFlag("score_pegar_copo_descartavel").setValue(!1),m.getFlag("ir_ala_feminina_primeira_vez").setValue(!1),m.getFlag("lavarMaos").setValue(!1),f.setNameRegExp(/Ana Beatriz Galv(a|ã)o/),f.setLeitoRegExp(/0*1/),f.setDataRegExp(/19\/07\/1979/),f.setName("Ana Beatriz Galvão"),f.setLeito("01"),f.setData("19/07/1979"),f.disable(),l.setNome("Ana Beatriz Galvão"),l.setSexo("F"),l.setEstadoCivil("Solteira"),l.setDataNascimento("19/07/1979"),l.setIdade("36 anos"),l.setProfissao("Publicitária"),l.setPai("Antônio Bueno Galvão"),l.setMae("Isabela Romeira Galvão"),l.setAlergiaMedicamentosa(!1,""),l.setDisableAlergiaMedicamentosa(!0),l.setDataInternacao("23/08/2015"),l.setLeito("01 - Enfermaria Feminina"),l.setAntecedentes(""),l.setHipotese("Cirurgia de fratura de fêmur"),l.setObservacoes("Diabetes Mellitus tipo II, sofreu queda em degrau de uma escada, devido à instabilidade glicêmica."),l.setPeso("50"),l.setAltura("1,65"),l.setCircunferenciaAbdominal("78"),l.setPrescMedicaRowData(0,"","Clorpropamida","Oral","250mg/1x/dia","07:00h",!1,!1),l.setPrescMedicaRowData(1,"","","","","",!1,!1),l.setSsvvRowData(0,"","120X70","60","18","96","35",!0),l.setSsvvRowData(1,"","130X70","68","20","96","36.4",!0),l.setAnotacaoEnfermagemRowData("","")}),m.registerFlag(new o("conversar_recepcionista"),!1),m.registerFlag(new o("conversar_mentor"),!1),m.registerFlag(new o("ir_farmacia_horaErrada"),!1),m.registerFlag(new o("ir_postoEnfermagem_horaErrada"),!1),m.registerFlag(new o("ir_centroCirurgico_horaErrada"),!1),m.registerFlag(new o("ir_AlaMasculina_horaErrada"),!1),m.registerFlag(new o("ir_AlaFeminina_horaErrada"),!1),m.registerFlag(new o("ir_postoEnfermagem_horaErrada"),!1),m.registerFlag(new o("conversarPaciente"),!1),m.registerFlag(new o("ler_prontuario"),!1),m.registerFlag(new o("conferir_medicamento_errado"),!1),m.registerFlag(new o("pegar_medicamento"),!1),m.registerFlag(new o("pegar_medicamento_correto"),!1),m.registerFlag(new o("conferir_medicamento_correto"),!1),m.registerFlag(new o("pegar_copo_descartavel"),!1),m.registerFlag(new o("pegar_agua_potavel"),!1),m.registerFlag(new o("pegou_bandeja"),!1),m.registerFlag(new o("score_pegar_agua_potavel"),!1),m.registerFlag(new o("score_pegar_copo_descartavel"),!1),m.registerFlag(new o("ir_ala_feminina_primeira_vez"),!1),m.registerFlag(new o("lavarMaos"),!1),m.setInitialScene(0),e.registerLevel(m,7)});