define([],function(){function S(t,n){console.groupCollapsed("Loading Sounds: "),x(t,n,b),e&&z(),console.groupEnd()}function x(e,n,r){var i;for(i in n)if(typeof n[i]=="object")n[i]instanceof Array?r[i]=[]:r[i]={},x(e,n[i],r[i]);else{var s=n[i],o=s.split("."),u=o[0],a=o[1];r[i]=new Audio(e+s),sound=r[i],console.log("	Name: "+u,"Extension: "+a),sound.loop=!1,sound.volume=t,sound.vol=sound.volume,sound.load()}}function T(e){var t=[];if(typeof e=="object")if(e instanceof Array)t=t.concat(e);else{var n;for(n in e)t=t.concat(T(e[n]))}else t.push(e);return t}function N(e){var t=T(e),n=Math.floor(Math.random()*t.length),r=t[n];k(r)}function C(e){window.chrome?e.load():e.currentTime=0}function k(e){r=e,C(r),r.play()}function L(e){e.play()}function A(){r.pause()}function O(e,t){return e++,e>=t&&(e=0),e}function M(e){if(!u){s=T(e),u=!0,o=0,a=s[o];var t=s[O(o,s.length)];f=new Audio(t.getAttribute("src")),f.volume=s[O(o,s.length)].vol,C(f),l=a,c=setInterval(P,4),k(a)}}function _(){u&&(u=!1,a.pause(),clearInterval(c))}function D(){o=O(o,s.length),l!==undefined&&clearInterval(c),l=a,a=f,delete f,f=new Audio(s[o].getAttribute("src")),f.volume=s[o].volume,C(f),L(a),u&&(console.log("PLAY"),c=setInterval(P,4))}function P(){var e=a.currentTime*100/a.duration;e>=w&&D()}function H(e){v||(h=T(e),v=!0,j())}function B(){v&&(v=!1,m.pause())}function j(){var e=[],t;for(t in h)e.push(t);d=p,d!==undefined&&e.splice(d,1),p=e[Math.floor(Math.random()*e.length)],l!==undefined&&(l.pause(),l.removeEventListener("timeupdate",F,!1)),y=m,m=h[p],k(m),v&&m.addEventListener("timeupdate",F,!1)}function F(){var e=this.currentTime*100/this.duration;e>=E&&j()}function I(e,n){var r=T(e),i;for(i in r){var s=r[i];s.vol=n,s.volume=n*t}}function q(){var e=T(b),n;for(n in e){var r=e[n];r.volume=r.vol*t}}function R(e){t=e,q()}function U(){SaveLoadGame.toggleMute(),e=!e,z()}function z(){e?(n=t,R(0)):R(n)}function W(){A(),_(),B()}console.info("Player - module loaded");var e=!1,t=1,n,r=undefined,i=undefined,s,o,u=!1,a=undefined,f=undefined,l=undefined,c,h,p,d,v=!1,m=undefined,g=undefined,y=undefined,b={},w=99.9,E=98.5;return{audios:b,load:S,play:N,stop:A,mute:U,setVolumeOfTo:I,setMasterVolumeTo:R,playInLoop:M,stopLoop:_,playInRange:H,stopRange:B,stopAll:W}});